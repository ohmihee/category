
{% if logininfo == undefined %}
    <!-- 로그인 처리 안된경우 -->
    <a href="/auth/kakao">카카오 로그인</a>
    <a href="/login">로그인</a>
{% else %}
    <!-- 로그인 처리 완료된경우 -->
    <a href="/auth/info">회원정보</a>
    <a href="/auth/logout">로그아웃</a>
    <!-- <a href="/auth/kakao/unlink">카카오 탈퇴</a> -->
{% endif %}

{% if msg %}
<script type="text/javascript">
    
    alert('{{msg}}');

</script>
{% endif %}

<script type="text/javascript">
    const request = require('request');
    const querystring = require('querystring');
    let template_objectObj = {
    object_type: 'text',
    text: ' Hello Kakao!(텍스트 영역입니다. 최대 200자 표시 가능합니다.)',
    'link': {
    web_url: 'https://developers.kakao.com',
    mobile_web_url: 'https://developers.kakao.com'
    }
    };
    // Javascript -> JSON 타입으로 변경
    let template_objectStr = JSON.stringify(template_objectObj);
    let options = {
    url: 'https://kapi.kakao.com/v2/api/talk/memo/default/send',
    method: 'POST',
    headers: {
    'Authorization': 'GvZKmK6MsH4BzuOfEIHagw10k93OzFSkTLOVWAorDKcAAAF5p3-kkw',
    'Content-Type': 'application/x-www-form-urlencoded',
    },
    form: {
    template_object: template_objectStr,
    }
    };
    function callback(error, response, body) {
    console.log(response.statusCode);
    if (!error && response.statusCode == 200) {
    console.log(body);
    }
    }
    request(options, callback);
    
    </script>